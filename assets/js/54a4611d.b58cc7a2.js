"use strict";(self.webpackChunktransloco_docs=self.webpackChunktransloco_docs||[]).push([[4608],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>d});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var i=r.createContext({}),c=function(e){var t=r.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},p=function(e){var t=c(e.components);return r.createElement(i.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},g=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,i=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),g=c(n),d=o,m=g["".concat(i,".").concat(d)]||g[d]||u[d]||a;return n?r.createElement(m,s(s({ref:t},p),{},{components:n})):r.createElement(m,s({ref:t},p))}));function d(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,s=new Array(a);s[0]=g;var l={};for(var i in t)hasOwnProperty.call(t,i)&&(l[i]=t[i]);l.originalType=e,l.mdxType="string"==typeof e?e:o,s[1]=l;for(var c=2;c<a;c++)s[c]=n[c];return r.createElement.apply(null,s)}return r.createElement.apply(null,n)}g.displayName="MDXCreateElement"},4425:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>s,default:()=>u,frontMatter:()=>a,metadata:()=>l,toc:()=>c});var r=n(7462),o=(n(7294),n(3905));const a={title:"Persist Lang",description:"Plugins - Persist Lang | Transloco Angular i18n"},s=void 0,l={unversionedId:"plugins/persist-lang",id:"plugins/persist-lang",title:"Persist Lang",description:"Plugins - Persist Lang | Transloco Angular i18n",source:"@site/docs/plugins/persist-lang.mdx",sourceDirName:"plugins",slug:"/plugins/persist-lang",permalink:"/transloco/docs/plugins/persist-lang",draft:!1,editUrl:"https://github.com/jsverse/transloco/edit/master/docs/docs/plugins/persist-lang.mdx",tags:[],version:"current",frontMatter:{title:"Persist Lang",description:"Plugins - Persist Lang | Transloco Angular i18n"},sidebar:"docs",previous:{title:"Persist Translations",permalink:"/transloco/docs/plugins/persist-translations"},next:{title:"Preload Languages",permalink:"/transloco/docs/plugins/preload-langs"}},i={},c=[{value:"Installation",id:"installation",level:2},{value:"Usage",id:"usage",level:2}],p={toc:c};function u(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"This plugin provides the functionality of persisting the active language to the provided storage."),(0,o.kt)("h2",{id:"installation"},"Installation"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"npm install @jsverse/transloco-persist-lang\n")),(0,o.kt)("h2",{id:"usage"},"Usage"),(0,o.kt)("p",null,"Add persist lang providers using the into the ",(0,o.kt)("inlineCode",{parentName:"p"},"TranslocoRootModule"),"/",(0,o.kt)("inlineCode",{parentName:"p"},"app.config.ts"),", and provide the storage you would like to use:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="transloco-root.module.ts"',title:'"transloco-root.module.ts"'},"import { provideTranslocoPersistLang } from '@jsverse/transloco-persist-lang';\n\n@NgModule({\n  providers: [\n    provideTranslocoPersistLang({\n      storage: {\n        useValue: localStorage,\n      },\n    }),\n  ],\n  ...\n})\nexport class TranslocoRootModule {}\n")),(0,o.kt)("p",null,"When the user changes the current language, the plugin will keep it in the provided storage and set it as active when the user returns to the application."),(0,o.kt)("p",null,"By default, the plugin will use the cached language if available otherwise it will use the default language provided in the config. You can always change this behavior by providing a ",(0,o.kt)("inlineCode",{parentName:"p"},"getLangFn")," option:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="transloco-root.module.ts"',title:'"transloco-root.module.ts"'},"import { provideTranslocoPersistLang } from '@jsverse/transloco-persist-lang';\n\nexport function getLangFn({\n  cachedLang,\n  browserLang,\n  cultureLang,\n  defaultLang,\n}) {\n  return yourLogic;\n}\n\n@NgModule({\n  providers: [\n    provideTranslocoPersistLang({\n      getLangFn,\n      storage: {\n        useValue: localStorage,\n      },\n    }),\n  ],\n  ...\n})\nexport class TranslocoRootModule {}\n")),(0,o.kt)("p",null,"The plugin also provides a ",(0,o.kt)("inlineCode",{parentName:"p"},"cookiesStorage")," function that you can use to save the language in a cookie. (SSR advantage)"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="transloco-root.module.ts"',title:'"transloco-root.module.ts"'},"import { provideTranslocoPersistLang, cookiesStorage } from '@jsverse/transloco-persist-lang';\n\n@NgModule({\n  imports: [\n    provideTranslocoPersistLang({\n      storage: {\n        useValue: cookiesStorage(),\n      },\n    }),\n  ],\n  ...\n})\nexport class TranslocoRootModule {}\n")))}u.isMDXComponent=!0}}]);